<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Doctor Dashboard - OneScript</title>
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
  <div id="header"></div>

  <div class="container">
    <h1 class="page-title">Doctor Dashboard</h1>
    <p class="page-subtitle">Review and manage patient assessments</p>

    <div class="dashboard-grid">
      <div class="dashboard-card">
        <h3>Assessments Awaiting Review</h3>
        <div class="value" id="pendingCount">5</div>
      </div>
      <div class="dashboard-card">
        <h3>Prescriptions Approved Today</h3>
        <div class="value" id="approvedCount">12</div>
      </div>
      <div class="dashboard-card">
        <h3>Assessments Rejected Today</h3>
        <div class="value" id="rejectedCount">2</div>
      </div>
      <div class="dashboard-card">
        <h3>Refill Requests Awaiting Review</h3>
        <div class="value" id="refillCount">1</div>
      </div>
    </div>

    <div class="card" style="margin-top: 2rem;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <h2 style="margin: 0;">Assessments Awaiting Review</h2>
        <a href="doctor-history.html" class="btn-secondary">View Full History</a>
      </div>
      
      <table class="table">
        <thead>
          <tr>
            <th>Patient Name</th>
            <th>Service</th>
            <th>Product</th>
            <th>Submitted</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="awaitingReviewBody">
          <tr>
            <td>John Doe</td>
            <td>Erectile Dysfunction</td>
            <td>Product A</td>
            <td>Jan 15, 2025</td>
            <td><span class="badge badge-pending">Awaiting Doctor Review</span></td>
            <td><a href="doctor-review.html" class="link">Review</a></td>
          </tr>
          <tr>
            <td>Jane Smith</td>
            <td>Erectile Dysfunction</td>
            <td>Product B</td>
            <td>Jan 15, 2025</td>
            <td><span class="badge badge-pending">Awaiting Doctor Review</span></td>
            <td><a href="doctor-review.html" class="link">Review</a></td>
          </tr>
          <tr>
            <td>Mike Johnson</td>
            <td>Erectile Dysfunction</td>
            <td>Product A</td>
            <td>Jan 14, 2025</td>
            <td><span class="badge badge-pending">Awaiting Doctor Review</span></td>
            <td><a href="doctor-review.html" class="link">Review</a></td>
          </tr>
          <tr>
            <td>Sarah Williams</td>
            <td>Erectile Dysfunction</td>
            <td>Product C</td>
            <td>Jan 13, 2025</td>
            <td><span class="badge badge-pending">Awaiting Doctor Review</span></td>
            <td><a href="doctor-review.html" class="link">Review</a></td>
          </tr>
          <tr>
            <td>David Brown</td>
            <td>Erectile Dysfunction</td>
            <td>Product A</td>
            <td>Jan 12, 2025</td>
            <td><span class="badge badge-pending">Awaiting Doctor Review</span></td>
            <td><a href="doctor-review.html" class="link">Review</a></td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="card" style="margin-top: 2rem;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
        <h2 style="margin: 0;">Refill Requests Awaiting Review</h2>
      </div>
      
      <table class="table">
        <thead>
          <tr>
            <th>Patient Name</th>
            <th>Product</th>
            <th>Original Approval</th>
            <th>Refill Requested</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="refillRequestsBody">
          <tr>
            <td>John Doe</td>
            <td>Product B</td>
            <td>Jan 12, 2025</td>
            <td>Jan 16, 2025</td>
            <td><span class="badge badge-pending">Refill Request - Awaiting Doctor Review</span></td>
            <td><a href="doctor-refill-review.html" class="link">Review</a></td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <div id="footer"></div>

  <script src="../js/app.js"></script>
  <script>
    // Update dashboard counts
    function updateCounts() {
      const rows = document.querySelectorAll('#awaitingReviewBody tr');
      const pending = rows.length;
      document.getElementById('pendingCount').textContent = pending;
      
      const refillRows = document.querySelectorAll('#refillRequestsBody tr');
      const refillPending = refillRows.length;
      document.getElementById('refillCount').textContent = refillPending;
    }

    // Initialize
    updateCounts();
  </script>
</body>
</html>
